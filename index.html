<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Korea Week Registration Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'shake': 'shake 0.5s ease-in-out',
                    },
                    keyframes: {
                        shake: {
                            '0%, 100%': { transform: 'translateX(0)' },
                            '25%': { transform: 'translateX(-5px)' },
                            '75%': { transform: 'translateX(5px)' },
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Hero Section with Video Background -->
    <section class="relative h-screen flex items-center justify-center overflow-hidden">
        <!-- Video Background -->
        <video 
            class="absolute inset-0 w-full h-full object-cover"
            autoplay 
            muted 
            loop 
            playsinline
            poster="https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80"
        >
            <source src="https://player.vimeo.com/external/434045526.sd.mp4?s=c27eecc69a27dbc4ff2b87d38afc35f1a9e7c02d&profile_id=164&oauth2_token_id=57447761" type="video/mp4">
            <source src="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4" type="video/mp4">
        </video>
        
        <!-- Fallback Background Image -->
        <div class="absolute inset-0 w-full h-full bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');"></div>
        
        <!-- Dark Overlay -->
        <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/60 to-black/80"></div>
        
                 <!-- Language Switcher -->
         <div class="absolute top-4 right-4 z-20">
             <div class="relative">
                 <button onclick="toggleLanguageDropdown()" class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2" id="lang-btn">
                     <span id="current-lang-flag">🇺🇸</span>
                     <span id="current-lang-text">EN</span>
                     <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                     </svg>
                 </button>
                 <div id="language-dropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 hidden z-30">
                     <div class="py-1">
                         <button onclick="changeLanguage('en')" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-3 transition-colors">
                             <span class="text-lg">🇺🇸</span>
                             <span class="text-gray-700">English</span>
                         </button>
                         <button onclick="changeLanguage('ku')" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-3 transition-colors">
                             <img src="assets/images/Flag_of_Kurdistan.svg.png" alt="Kurdistan Flag" class="w-6 h-4 object-cover rounded">
                             <span class="text-gray-700">کوردی</span>
                         </button>
                         <button onclick="changeLanguage('ko')" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-3 transition-colors">
                             <span class="text-lg">🇰🇷</span>
                             <span class="text-gray-700">한국어</span>
                         </button>
                     </div>
                 </div>
             </div>
         </div>
         
         <!-- Hero Content -->
         <div class="relative z-10 text-center text-white px-2 sm:px-4 max-w-4xl mx-auto">
                          <!-- Korean Cultural Elements -->
              <div class="mb-4 sm:mb-6">
                 <!-- Korean Flag Icon -->
                 <div class="inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-white rounded-full shadow-lg mb-3 sm:mb-4">
                     <div class="w-8 h-8 sm:w-12 sm:h-12 bg-red-600 rounded-full flex items-center justify-center">
                         <div class="w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-full"></div>
                     </div>
                 </div>
                 
                                   <!-- Korean Text -->
                  <div class="text-center mb-3 sm:mb-4">
                      <div class="text-lg sm:text-2xl font-bold text-yellow-400 mb-1 sm:mb-2" id="korean-week-text">한국 주간</div>
                                             <div class="text-sm sm:text-lg text-yellow-300" id="korean-week-subtitle">Korea Week</div>
                  </div>
                 
                 <!-- Korean Cultural Icons -->
                 <div class="flex justify-center space-x-3 sm:space-x-6 mb-3 sm:mb-4">
                     <div class="text-yellow-400 text-lg sm:text-2xl">🎎</div>
                     <div class="text-yellow-400 text-lg sm:text-2xl">🍜</div>
                     <div class="text-yellow-400 text-lg sm:text-2xl">🥋</div>
                     <div class="text-yellow-400 text-lg sm:text-2xl">🎭</div>
                 </div>
             </div>
                                                   <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl 2xl:text-7xl font-bold mb-3 sm:mb-4 md:mb-6 tracking-tight px-2" id="hero-title">
                  Korea Week Registration
              </h1>
              <div class="text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl mb-4 sm:mb-6 md:mb-8 leading-relaxed max-w-3xl mx-auto px-2 sm:px-4">
                  <p class="mb-2 sm:mb-3 md:mb-4" id="hero-desc-1">
                      Join us for an exciting celebration of Korean culture at Tishk International University! 
                      Experience traditional activities, modern entertainment, and authentic Korean cuisine.
                  </p>
                  <p id="hero-desc-2">
                      From kimbap-making to Taekwondo demonstrations and Korean beauty sessions - 
                      there's something for participants to enjoy and learn about Korean culture.
                  </p>
              </div>
            
                                       <!-- Event Details -->
              <div class="bg-white bg-opacity-20 backdrop-blur-sm rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-6 mb-4 sm:mb-6 md:mb-8 max-w-2xl mx-auto mx-2 sm:mx-4">
                  <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 md:gap-4 text-center">
                      <div class="p-1 sm:p-2">
                          <div class="text-xs font-semibold text-gray-200 uppercase tracking-wide" id="date-label">Date</div>
                          <div class="text-sm sm:text-base md:text-lg font-bold">August 29–30</div>
                      </div>
                      <div class="p-1 sm:p-2">
                          <div class="text-xs font-semibold text-gray-200 uppercase tracking-wide" id="time-label">Time</div>
                                                     <div class="text-sm sm:text-base md:text-lg font-bold">2:00 PM</div>
                      </div>
                      <div class="p-1 sm:p-2">
                          <div class="text-xs font-semibold text-gray-200 uppercase tracking-wide" id="location-label">Location</div>
                          <div class="text-sm sm:text-base md:text-lg font-bold" id="korea-corner">Korea Corner</div>
                          <div class="text-xs" id="tishk-university">Tishk International University</div>
                      </div>
                  </div>
                                     <div class="mt-2 sm:mt-3 md:mt-4 p-2 sm:p-3 bg-yellow-500 bg-opacity-20 rounded-lg">
                       <p class="text-xs font-medium leading-relaxed" id="warning-text">
                           ⚠️ Participation may be limited by lottery due to space constraints and you can participate for one day only. 
                           Participants must be 16 years or older. This form is for one person only. Please do not bring babies or children under 16.
                       </p>
                   </div>
              </div>
            
                                                   <button 
                  onclick="document.getElementById('registration-form').scrollIntoView({behavior: 'smooth'})"
                  class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 sm:py-3 md:py-4 px-4 sm:px-6 md:px-8 rounded-full text-sm sm:text-base md:text-lg transition-all duration-300 transform hover:scale-105 shadow-lg mx-2 sm:mx-4"
                  id="register-btn"
              >
                  Register Now
              </button>
        </div>
    </section>

         <!-- Registration Form -->
     <section id="registration-form" class="py-4 sm:py-8 md:py-16 px-2 sm:px-4">
         <div class="max-w-3xl mx-auto">
                                       <!-- Korean Cultural Header -->
              <div class="text-center mb-4 sm:mb-6 md:mb-8">
                  <div class="flex justify-center space-x-2 md:space-x-4 mb-2 sm:mb-3 md:mb-4">
                      <div class="text-red-600 text-lg sm:text-xl md:text-2xl">🇰🇷</div>
                      <div class="text-red-600 text-lg sm:text-xl md:text-2xl">🎎</div>
                      <div class="text-red-600 text-lg sm:text-xl md:text-2xl">🍜</div>
                      <div class="text-red-600 text-lg sm:text-xl md:text-2xl">🥋</div>
                  </div>
                  <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-1 sm:mb-2" id="form-title">한국 주간 등록</h2>
                                     <p class="text-xs sm:text-sm md:text-base text-gray-600" id="form-subtitle">Korea Week Registration</p>
              </div>
             
             <!-- Progress Stepper -->
             <div class="mb-6 sm:mb-8 md:mb-12">
                 <div class="flex items-center justify-center space-x-1 sm:space-x-2 md:space-x-4 overflow-x-auto px-1 sm:px-2">
                                                              <div class="flex items-center">
                         <div class="bg-red-600 text-white rounded-full w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 flex items-center justify-center text-xs font-bold" id="step-1">1</div>
                         <span class="ml-1 text-xs font-medium hidden sm:inline" id="text-1">Personal</span>
                     </div>
                     <div class="w-3 sm:w-4 md:w-8 h-1 bg-gray-300" id="line-1"></div>
                     <div class="flex items-center">
                         <div class="bg-gray-300 text-gray-600 rounded-full w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 flex items-center justify-center text-xs font-bold" id="step-2">2</div>
                         <span class="ml-1 text-xs font-medium hidden sm:inline" id="text-2">Day</span>
                     </div>
                     <div class="w-3 sm:w-4 md:w-8 h-1 bg-gray-300" id="line-2"></div>
                     <div class="flex items-center">
                         <div class="bg-gray-300 text-gray-600 rounded-full w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 flex items-center justify-center text-xs font-bold" id="step-3">3</div>
                         <span class="ml-1 text-xs font-medium hidden sm:inline" id="text-3">Activities</span>
                     </div>
                     <div class="w-3 sm:w-4 md:w-8 h-1 bg-gray-300" id="line-3"></div>
                     <div class="flex items-center">
                         <div class="bg-gray-300 text-gray-600 rounded-full w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 flex items-center justify-center text-xs font-bold" id="step-4">4</div>
                         <span class="ml-1 text-xs font-medium hidden sm:inline" id="text-4">Details</span>
                     </div>
                     <div class="w-3 sm:w-4 md:w-8 h-1 bg-gray-300" id="line-4"></div>
                     <div class="flex items-center">
                         <div class="bg-gray-300 text-gray-600 rounded-full w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 flex items-center justify-center text-xs font-bold" id="step-5">5</div>
                         <span class="ml-1 text-xs font-medium hidden sm:inline" id="text-5">Review</span>
                     </div>
                </div>
            </div>

                         <!-- Form Container -->
             <form id="korea-week-form" class="bg-white rounded-xl sm:rounded-2xl shadow-xl p-3 sm:p-4 md:p-8 lg:p-12" netlify name="korea-week-registration">
                <input type="hidden" name="form-name" value="korea-week-registration" />
                
                <!-- Honeypot field for spam protection -->
                <div class="hidden">
                    <input type="text" name="bot-field" tabindex="-1" autocomplete="off">
                </div>

                <!-- Static form fields for Netlify to detect (hidden) -->
                <div class="hidden">
                    <input type="text" name="fullName" value="">
                    <input type="number" name="age" value="">
                    <input type="email" name="email" value="">
                    <input type="tel" name="phone" value="">
                    <input type="text" name="city" value="">
                    <input type="radio" name="selectedDay" value="day1">
                    <input type="radio" name="selectedDay" value="day2">
                    <input type="checkbox" name="activities" value="kimbap">
                    <input type="checkbox" name="activities" value="taekwondo">
                    <input type="checkbox" name="activities" value="makeup">
                    <textarea name="dietary"></textarea>
                    <input type="text" name="emergencyName" value="">
                    <input type="tel" name="emergencyPhone" value="">
                    <input type="text" name="emergencyRelation" value="">
                    <input type="radio" name="mediaConsent" value="yes">
                    <input type="radio" name="mediaConsent" value="no">
                    <input type="checkbox" name="waiverAgreement">
                    <textarea name="comments"></textarea>
                </div>

                <!-- Form content will be added in next sections -->
                <div id="form-content">
                    <!-- Form sections will be dynamically loaded here -->
                </div>
            </form>
        </div>
    </section>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
                 <div class="bg-white rounded-2xl p-4 md:p-8 max-w-md mx-4 text-center">
             <!-- Korean Success Icons -->
             <div class="flex justify-center space-x-4 mb-4">
                 <div class="text-2xl">🇰🇷</div>
                 <div class="text-2xl">✅</div>
                 <div class="text-2xl">🎎</div>
             </div>
             <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                 <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                 </svg>
             </div>
                         <h3 class="text-xl md:text-2xl font-bold text-gray-900 mb-2">Registration Successful!</h3>
             <p class="text-sm md:text-base text-gray-600 mb-4 md:mb-6">
                 Thank you for registering for Korea Week! We've received your application and will send you a confirmation email shortly.
             </p>
             <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 md:p-4 mb-3 md:mb-4">
                 <div class="flex items-start space-x-3">
                     <div class="flex-shrink-0">
                         <svg class="w-5 h-5 text-blue-600 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                         </svg>
                     </div>
                     <div>
                         <h4 class="text-sm font-semibold text-blue-900 mb-1">Important: Take a Screenshot!</h4>
                         <p class="text-sm text-blue-800">
                             Please take a screenshot of this confirmation screen. You'll need to show this screenshot when you arrive at the event to verify your registration.
                         </p>
                     </div>
                 </div>
             </div>
                          <p class="text-xs md:text-sm text-gray-500">
                 Spots are limited and confirmations will be sent via email. Please check your inbox for further details.
             </p>
             <button onclick="closeSuccessModal()" class="mt-4 md:mt-6 bg-red-600 text-white px-4 md:px-6 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm md:text-base">
                 Close
             </button>
        </div>
    </div>

         <script>
         // Language configuration
         const languages = {
             en: {
                 // Hero Section
                 koreanWeek: "Korea Week",
                 koreanWeekRegistration: "Korea Week Registration",
                 welcome: "Welcome!",
                 heroDescription1: "Join us for an exciting celebration of Korean culture at Tishk International University! Experience traditional activities, modern entertainment, and authentic Korean cuisine.",
                                     heroDescription2: "From kimbap-making to Taekwondo demonstrations and Korean beauty sessions - there's something for participants to enjoy and learn about Korean culture.",
                 date: "Date",
                 time: "Time",
                 location: "Location",
                 koreaCorner: "Korea Corner",
                 tishkUniversity: "Tishk International University",
                                   warning: "⚠️ Participation may be limited by lottery due to space constraints and you can participate for one day only. Participants must be 16 years or older. This form is for one person only. Please do not bring babies or children under 16.",
                 registerNow: "Register Now",
                 
                 // Form Headers
                 personalInformation: "Personal Information",
                 personalInfoDesc: "Please provide your basic details to get started",
                 chooseYourDay: "Choose Your Day",
                 chooseDayDesc: "Select which day you'd like to attend Korea Week",
                 activitySelection: "Activity Selection",
                 activityDesc: "Choose which activities you'd like to join on",
                 additionalDetails: "Additional Details",
                 additionalDetailsDesc: "Help us prepare for your visit",
                 reviewRegistration: "Review Your Registration",
                 reviewDesc: "Please review your information before submitting",
                 
                 // Form Fields
                 fullName: "Full Name",
                 age: "Age",
                 emailAddress: "Email Address",
                 phoneNumber: "Phone Number",
                 cityArea: "City/Area",
                 enterFullName: "Enter your full name",
                 enterAge: "Enter your age",
                 enterEmail: "Enter your email address",
                 enterPhone: "Enter your phone number",
                 enterCity: "Enter your city or area (optional)",
                 mustBe16: "Must be 16+",
                 
                 // Day Selection
                 day1: "Day 1 — August 29",
                 day1Desc: "Experience traditional Korean activities and cultural workshops",
                 day2: "Day 2 — August 30",
                 day2Desc: "Modern Korean entertainment and interactive challenges",
                 
                 // Activities
                 kimbapMaking: "Kimbap-making class",
                 kimbapDesc: "Learn to make traditional Korean rice rolls",
                 taekwondo: "Taekwondo",
                 taekwondoDesc: "Experience Korean martial arts",
                 koreanMakeup: "Korean make-up session",
                 makeupDesc: "Learn Korean beauty techniques",
                 
                 // Additional Details
                 dietaryRestrictions: "Dietary Restrictions & Allergies",
                 dietaryPlaceholder: "Do you have any dietary restrictions and/or allergies? (optional)",
                 emergencyContact: "Emergency Contact",
                 emergencyName: "Name",
                 emergencyPhone: "Phone Number",
                 relationship: "Relationship",
                 emergencyNamePlaceholder: "Emergency contact name",
                 emergencyPhonePlaceholder: "Emergency contact phone",
                 relationshipPlaceholder: "e.g., Parent, Spouse, Friend",
                 
                 // Media Consent
                 mediaConsent: "Media Consent",
                 mediaConsentDesc: "Do you give permission for photos and videos taken during Korea Week to be used for promotional purposes?",
                 yes: "Yes",
                 no: "No",
                 
                 // Waiver
                 waiverAgreement: "Waiver & Agreement",
                 waiverText: "By submitting this form, I confirm that I am 16 years or older, and I understand that some activities may involve physical movement or food handling. I agree to follow safety guidelines provided by the organizers.",
                 iAgree: "I agree",
                 
                 // Comments
                 additionalComments: "Additional Comments",
                 commentsPlaceholder: "Anything else you'd like us to know? (optional)",
                 
                 // Buttons
                 back: "Back",
                 next: "Next",
                 nextDaySelection: "Next: Day Selection",
                 nextActivities: "Next: Activities",
                 nextDetails: "Next: Details",
                 reviewSubmit: "Review & Submit",
                 joinKoreaWeek: "Join Korea Week!",
                 close: "Close",
                 
                 // Review Section
                 personalInfo: "Personal Information",
                 eventDetails: "Event Details",
                 day: "Day",
                 activities: "Activities",
                 notProvided: "Not provided",
                 notSelected: "Not selected",
                 
                 // Success Modal
                 registrationSuccessful: "Registration Successful!",
                 successMessage: "Thank you for registering for Korea Week! We've received your application and will send you a confirmation email shortly.",
                 importantScreenshot: "Important: Take a Screenshot!",
                 screenshotDesc: "Please take a screenshot of this confirmation screen. You'll need to show this screenshot when you arrive at the event to verify your registration.",
                 limitedSpots: "Spots are limited and confirmations will be sent via email. Please check your inbox for further details.",
                 
                 // Validation Messages
                 fullNameRequired: "Full name is required",
                 ageRequired: "Participants must be 16 or older",
                 validEmail: "Please enter a valid email address",
                 phoneRequired: "Phone number is required",
                 selectDay: "Please select a day to continue",
                 selectActivity: "Please select at least one activity",
                 fillRequired: "Please fill in all required fields"
             },
             ku: {
                 // Hero Section
                 koreanWeek: "هەفتەی کۆریا",
                 koreanWeekRegistration: "تۆمارکردنی هەفتەی کۆریا",
                 welcome: "بەخێربێیت!",
                 heroDescription1: "پێکەوە بەشداری لە ئاهەنگێکی سەرنجڕاکێشی کەلتوری کۆریا لە زانکۆی نێودەوڵەتی تیشک بکە! چێژ لە چالاکییە نەریتییەکان، ڕابواردنی مۆدێرن و خۆراکی ڕەسەنی کۆریا وەربگرە.",
                 heroDescription2: "لە دروستکردنی کیمباپ تا دەرکەوتنی تایکۆندۆ، بەرەنگاربوونەوەی یاری هەشتەکە تا دانیشتنەکانی جوانکاری کۆریا - شتێک هەیە بۆ بەشداریکەرەکان بۆ چێژ وەرگرتن و فێربوونی کەلتوری کۆریا.",
                 date: "بەروار",
                 time: "کاتی",
                 location: "شوێن",
                 koreaCorner: "گۆشەی کۆریا",
                 tishkUniversity: "زانکۆی نێودەوڵەتی تیشک",
                 warning: "⚠️ بەشداری لەوانەیە بە یانسی بەربەست بێت بەهۆی سنووداری بۆشایی و تۆ تەنها دەتوانیت بۆ یەک ڕۆژ بەشداری بکەیت. بەشداریکەرەکان دەبێت ١٦ ساڵ یان زیاتر بن. ئەم فۆرمە بۆ یەک کەسە تەنها. تکایە منداڵ یان کەسانی لە ١٦ ساڵ لە خوارەوە مەهێنە.",
                 registerNow: "ئێستا تۆمار بکە",
                 
                 // Form Headers
                 personalInformation: "زانیاری کەسی",
                 personalInfoDesc: "تکایە زانیارییە سەرەکییەکانت بدە بۆ دەستپێکردن",
                 chooseYourDay: "ڕۆژەکەت هەڵبژێرە",
                 chooseDayDesc: "هەڵبژێرە کە کام ڕۆژ دەتەوێت لە هەفتەی کۆریا بەشداری بکەیت",
                 activitySelection: "هەڵبژاردنی چالاکی",
                 activityDesc: "هەڵبژێرە کام چالاکییەکان دەتەوێت لە",
                 additionalDetails: "وردەکاری زیاتر",
                 additionalDetailsDesc: "یارمەتیمان بدە بۆ ئامادەکردنی سەردانەکەت",
                 reviewRegistration: "پوختەی تۆمارکردنەکەت",
                 reviewDesc: "تکایە زانیارییەکانت پوختە بکە پێش ناردن",
                 
                 // Form Fields
                 fullName: "ناوی تەواو",
                 age: "تەمەن",
                 emailAddress: "ناونیشانی ئیمەیڵ",
                 phoneNumber: "ژمارەی مۆبایل",
                 cityArea: "شار/ناوچە",
                 enterFullName: "ناوی تەواوەکەت بنووسە",
                 enterAge: "تەمەنەکەت بنووسە",
                 enterEmail: "ناونیشانی ئیمەیڵەکەت بنووسە",
                 enterPhone: "ژمارەی مۆبایلەکەت بنووسە",
                 enterCity: "شار یان ناوچەکەت بنووسە (دەستخۆ)",
                 mustBe16: "دەبێت ١٦+ بێت",
                 
                 // Day Selection
                 day1: "ڕۆژی ١ — ٢٩ی ئاب",
                 day1Desc: "چێژ لە چالاکییە نەریتییەکانی کۆریا و کارگەی کەلتوری وەربگرە",
                 day2: "ڕۆژی ٢ — ٣٠ی ئاب",
                 day2Desc: "ڕابواردنی مۆدێرنی کۆریا و بەرەنگاربوونەوەی یەکگرتوو",
                 
                 // Activities
                 kimbapMaking: "پۆلی دروستکردنی کیمباپ",
                 kimbapDesc: "فێربە چۆن کیمباپی نەریتی دروست بکەیت",
                 taekwondo: "تایکۆندۆ",
                 taekwondoDesc: "چێژ لە هونەری جەنگی کۆریا وەربگرە",
                 koreanMakeup: "دانیشتنی جوانکاری کۆریا",
                 makeupDesc: "فێربە تەکنیکەکانی جوانکاری کۆریا",
                 
                 // Additional Details
                 dietaryRestrictions: "سنووداری خۆراک و ئەلەرژیا",
                 dietaryPlaceholder: "هیچ سنووداری خۆراک یان ئەلەرژیا هەتە؟ (دەستخۆ)",
                 emergencyContact: "پەیوەندی فریاگوزاری",
                 emergencyName: "ناو",
                 emergencyPhone: "ژمارەی مۆبایل",
                 relationship: "پەیوەندی",
                 emergencyNamePlaceholder: "ناوی پەیوەندی فریاگوزاری",
                 emergencyPhonePlaceholder: "ژمارەی مۆبایلی پەیوەندی فریاگوزاری",
                 relationshipPlaceholder: "وەک، باوک، هاوسەر، هاوڕێ",
                 
                 // Media Consent
                 mediaConsent: "ڕازیبوون لە میدیا",
                 mediaConsentDesc: "ڕازیت لە وێنە و ڤیدیۆیەکانی وەرگیراو لە هەفتەی کۆریا بۆ مەبەستی پڕۆمۆشن بەکاربهێنرێت؟",
                 yes: "بەڵێ",
                 no: "نەخێر",
                 
                 // Waiver
                 waiverAgreement: "ڕازیبوون و ڕێکەوتن",
                 waiverText: "بە ناردنی ئەم فۆرمە، پشتڕاست دەکەمەوە کە ١٦ ساڵ یان زیاتر، و تێدەگەم کە هەندێک چالاکی لەوانەیە بەرپرس لە جووڵەی جەستەیی یان مامەڵەکردن لەگەڵ خۆراک بێت. ڕازیم لە شوێنکەوتنی ڕێنمایییەکانی پارێزگاری دەستەبەرکراو لەلایەن ڕێکخەرەکانەوە.",
                 iAgree: "ڕازیم",
                 
                 // Comments
                 additionalComments: "لێدوانی زیاتر",
                 commentsPlaceholder: "هیچ شتێکی تر هەیە کە دەتەوێت ئێمە بەزانین؟ (دەستخۆ)",
                 
                 // Buttons
                 back: "گەڕانەوە",
                 next: "دواتر",
                 nextDaySelection: "دواتر: هەڵبژاردنی ڕۆژ",
                 nextActivities: "دواتر: چالاکییەکان",
                 nextDetails: "دواتر: وردەکاری",
                 reviewSubmit: "پوختە و ناردن",
                 joinKoreaWeek: "بەشداری هەفتەی کۆریا بکە!",
                 close: "داخستن",
                 
                 // Review Section
                 personalInfo: "زانیاری کەسی",
                 eventDetails: "وردەکاری ڕووداو",
                 day: "ڕۆژ",
                 activities: "چالاکییەکان",
                 notProvided: "نەدراوە",
                 notSelected: "هەڵنەبژێردراوە",
                 
                 // Success Modal
                 registrationSuccessful: "تۆمارکردن سەرکەوتوو بوو!",
                 successMessage: "سوپاس بۆ تۆمارکردنت لە هەفتەی کۆریا! ئەرکی تۆمارکردنەکەت وەرگرتووە و بەم زووانە ئیمەیڵێکی پشتڕاستکردنەوەت دەنێرین.",
                 importantScreenshot: "گرنگ: وێنەی شاشە بکە!",
                 screenshotDesc: "تکایە وێنەیەکی شاشەکە بکە. پێویستت دەبێت ئەم وێنەیە پیشان بدەیت کاتێک دەگەیت بۆ ڕووداوەکە بۆ پشتڕاستکردنەوەی تۆمارکردنەکەت.",
                 limitedSpots: "شوێنەکان سنوودارن و پشتڕاستکردنەوەکان بە ئیمەیڵ دەنێردرێن. تکایە صندوقی ناوەڕۆکەکەت بەدوادا بکە بۆ وردەکاری زیاتر.",
                 
                 // Validation Messages
                 fullNameRequired: "ناوی تەواو پێویستە",
                 ageRequired: "بەشداریکەرەکان دەبێت ١٦ یان زیاتر بن",
                 validEmail: "تکایە ناونیشانی ئیمەیڵێکی دروست بنووسە",
                 phoneRequired: "ژمارەی مۆبایل پێویستە",
                 selectDay: "تکایە ڕۆژێک هەڵبژێرە بۆ بەردەوامبوون",
                 selectActivity: "تکایە لانیکەم یەک چالاکی هەڵبژێرە",
                 fillRequired: "تکایە هەموو خانە پێویستەکان پڕبکەرەوە"
             },
             ko: {
                 // Hero Section
                 koreanWeek: "한국 주간",
                 koreanWeekRegistration: "한국 주간 등록",
                 welcome: "환영합니다!",
                 heroDescription1: "티슈크 국제대학교에서 열리는 흥미진진한 한국 문화 축제에 참여하세요! 전통 활동, 현대 엔터테인먼트, 진정한 한국 요리를 경험해보세요.",
                 heroDescription2: "김밥 만들기부터 태권도 시연, 오징어 게임 챌린지부터 한국 뷰티 세션까지 - 참가자들이 한국 문화를 즐기고 배울 수 있는 모든 것이 있습니다.",
                 date: "날짜",
                 time: "시간",
                 location: "장소",
                 koreaCorner: "코리아 코너",
                 tishkUniversity: "티슈크 국제대학교",
                 warning: "⚠️ 공간 제약으로 인해 추첨을 통해 참가가 제한될 수 있으며 하루만 참가할 수 있습니다. 참가자는 16세 이상이어야 합니다. 이 양식은 한 명만을 위한 것입니다. 16세 미만의 아기나 어린이를 데려오지 마세요.",
                 registerNow: "지금 등록하기",
                 
                 // Form Headers
                 personalInformation: "개인 정보",
                 personalInfoDesc: "시작하려면 기본 정보를 제공해 주세요",
                 chooseYourDay: "날짜 선택",
                 chooseDayDesc: "한국 주간에 참석하고 싶은 날을 선택하세요",
                 activitySelection: "활동 선택",
                 activityDesc: "참여하고 싶은 활동을 선택하세요",
                 additionalDetails: "추가 세부사항",
                 additionalDetailsDesc: "방문 준비를 도와주세요",
                 reviewRegistration: "등록 검토",
                 reviewDesc: "제출하기 전에 정보를 검토해 주세요",
                 
                 // Form Fields
                 fullName: "전체 이름",
                 age: "나이",
                 emailAddress: "이메일 주소",
                 phoneNumber: "전화번호",
                 cityArea: "도시/지역",
                 enterFullName: "전체 이름을 입력하세요",
                 enterAge: "나이를 입력하세요",
                 enterEmail: "이메일 주소를 입력하세요",
                 enterPhone: "전화번호를 입력하세요",
                 enterCity: "도시 또는 지역을 입력하세요 (선택사항)",
                 mustBe16: "16세 이상이어야 합니다",
                 
                 // Day Selection
                 day1: "1일차 — 8월 29일",
                 day1Desc: "전통적인 한국 활동과 문화 워크샵을 경험하세요",
                 day2: "2일차 — 8월 30일",
                 day2Desc: "현대적인 한국 엔터테인먼트와 인터랙티브 챌린지",
                 
                 // Activities
                 kimbapMaking: "김밥 만들기 수업",
                 kimbapDesc: "전통적인 한국 김밥 만드는 법을 배우세요",
                 taekwondo: "태권도",
                 taekwondoDesc: "한국 무술을 경험하세요",
                 koreanMakeup: "한국 메이크업 세션",
                 makeupDesc: "한국 뷰티 기법을 배우세요",
                 
                 // Additional Details
                 dietaryRestrictions: "식이 제한 및 알레르기",
                 dietaryPlaceholder: "식이 제한이나 알레르기가 있으신가요? (선택사항)",
                 emergencyContact: "비상 연락처",
                 emergencyName: "이름",
                 emergencyPhone: "전화번호",
                 relationship: "관계",
                 emergencyNamePlaceholder: "비상 연락처 이름",
                 emergencyPhonePlaceholder: "비상 연락처 전화번호",
                 relationshipPlaceholder: "예: 부모, 배우자, 친구",
                 
                 // Media Consent
                 mediaConsent: "미디어 동의",
                 mediaConsentDesc: "한국 주간 중 촬영된 사진과 비디오를 홍보 목적으로 사용하는 것에 동의하시나요?",
                 yes: "예",
                 no: "아니오",
                 
                 // Waiver
                 waiverAgreement: "면책 및 동의",
                 waiverText: "이 양식을 제출함으로써 저는 16세 이상임을 확인하며, 일부 활동에는 신체적 움직임이나 식품 취급이 포함될 수 있음을 이해합니다. 주최자가 제공하는 안전 지침을 따르는 것에 동의합니다.",
                 iAgree: "동의합니다",
                 
                 // Comments
                 additionalComments: "추가 의견",
                 commentsPlaceholder: "알려주고 싶은 다른 것이 있으신가요? (선택사항)",
                 
                 // Buttons
                 back: "뒤로",
                 next: "다음",
                 nextDaySelection: "다음: 날짜 선택",
                 nextActivities: "다음: 활동",
                 nextDetails: "다음: 세부사항",
                 reviewSubmit: "검토 및 제출",
                 joinKoreaWeek: "한국 주간에 참여하세요!",
                 close: "닫기",
                 
                 // Review Section
                 personalInfo: "개인 정보",
                 eventDetails: "이벤트 세부사항",
                 day: "날짜",
                 activities: "활동",
                 notProvided: "제공되지 않음",
                 notSelected: "선택되지 않음",
                 
                 // Success Modal
                 registrationSuccessful: "등록 성공!",
                 successMessage: "한국 주간에 등록해 주셔서 감사합니다! 신청서를 받았으며 곧 확인 이메일을 보내드리겠습니다.",
                 importantScreenshot: "중요: 스크린샷을 찍으세요!",
                 screenshotDesc: "이 확인 화면의 스크린샷을 찍어주세요. 이벤트에 도착했을 때 등록을 확인하기 위해 이 스크린샷을 보여주셔야 합니다.",
                 limitedSpots: "자리가 제한되어 있으며 확인은 이메일로 발송됩니다. 자세한 내용은 받은 편지함을 확인해 주세요.",
                 
                 // Validation Messages
                 fullNameRequired: "전체 이름이 필요합니다",
                 ageRequired: "참가자는 16세 이상이어야 합니다",
                 validEmail: "유효한 이메일 주소를 입력해 주세요",
                 phoneRequired: "전화번호가 필요합니다",
                 selectDay: "계속하려면 날짜를 선택해 주세요",
                 selectActivity: "최소 하나의 활동을 선택해 주세요",
                 fillRequired: "모든 필수 필드를 작성해 주세요"
             }
         };
         
         // Current language
         let currentLanguage = 'en';
         
         // Capacity configuration
         const capacityConfig = {
            "day1": {
                "kimbap": 30,
                "taekwondo": 25,
                "makeup": 20
            },
            "day2": {
                "kimbap": 30,
                "taekwondo": 25,
                "makeup": 20
            }
        };

        // Form state
        let currentStep = 1;
        let formData = {};
        let selectedDay = null;

                 // Initialize form
         document.addEventListener('DOMContentLoaded', function() {
             loadFormSection(1);
             updateLanguageUI();
         });
         
         // Language change function
         function changeLanguage(lang) {
             currentLanguage = lang;
             updateLanguageUI();
             updateAllText();
             
             // Reload current form section to update text
             if (currentStep >= 1 && currentStep <= 5) {
                 loadFormSection(currentStep);
             }
         }
         
         // Toggle language dropdown
         function toggleLanguageDropdown() {
             const dropdown = document.getElementById('language-dropdown');
             dropdown.classList.toggle('hidden');
         }
         
         // Close dropdown when clicking outside
         document.addEventListener('click', function(event) {
             const dropdown = document.getElementById('language-dropdown');
             const langBtn = document.getElementById('lang-btn');
             
             if (!langBtn.contains(event.target) && !dropdown.contains(event.target)) {
                 dropdown.classList.add('hidden');
             }
         });
         
                   // Update language switcher UI
          function updateLanguageUI() {
              const currentLangFlag = document.getElementById('current-lang-flag');
              const currentLangText = document.getElementById('current-lang-text');
              
              const flagMap = {
                  'en': '🇺🇸',
                  'ku': '<img src="assets/images/Flag_of_Kurdistan.svg.png" alt="Kurdistan Flag" class="w-5 h-3 object-cover rounded">',
                  'ko': '🇰🇷'
              };
              
              const textMap = {
                  'en': 'EN',
                  'ku': 'کوردی',
                  'ko': '한국어'
              };
              
              if (currentLangFlag) {
                  if (currentLanguage === 'ku') {
                      currentLangFlag.innerHTML = flagMap[currentLanguage];
                  } else {
                      currentLangFlag.textContent = flagMap[currentLanguage];
                  }
              }
              if (currentLangText) currentLangText.textContent = textMap[currentLanguage];
          }
         
         // Update all static text on the page
         function updateAllText() {
             // Hero section
             const koreanWeekText = document.getElementById('korean-week-text');
             const koreanWeekSubtitle = document.getElementById('korean-week-subtitle');
             const heroTitle = document.getElementById('hero-title');
             const heroDesc1 = document.getElementById('hero-desc-1');
             const heroDesc2 = document.getElementById('hero-desc-2');
             const dateLabel = document.getElementById('date-label');
             const timeLabel = document.getElementById('time-label');
             const locationLabel = document.getElementById('location-label');
             const koreaCorner = document.getElementById('korea-corner');
             const tishkUniversity = document.getElementById('tishk-university');
             const warningText = document.getElementById('warning-text');
             const registerBtn = document.getElementById('register-btn');
             const formTitle = document.getElementById('form-title');
             const formSubtitle = document.getElementById('form-subtitle');
             
             if (koreanWeekText) koreanWeekText.textContent = languages[currentLanguage].koreanWeek;
             if (koreanWeekSubtitle) koreanWeekSubtitle.textContent = languages[currentLanguage].koreanWeekRegistration;
             if (heroTitle) heroTitle.textContent = languages[currentLanguage].koreanWeekRegistration;
             if (heroDesc1) heroDesc1.textContent = languages[currentLanguage].heroDescription1;
             if (heroDesc2) heroDesc2.textContent = languages[currentLanguage].heroDescription2;
             if (dateLabel) dateLabel.textContent = languages[currentLanguage].date;
             if (timeLabel) timeLabel.textContent = languages[currentLanguage].time;
             if (locationLabel) locationLabel.textContent = languages[currentLanguage].location;
             if (koreaCorner) koreaCorner.textContent = languages[currentLanguage].koreaCorner;
             if (tishkUniversity) tishkUniversity.textContent = languages[currentLanguage].tishkUniversity;
             if (warningText) warningText.textContent = languages[currentLanguage].warning;
             if (registerBtn) registerBtn.textContent = languages[currentLanguage].registerNow;
             if (formTitle) formTitle.textContent = languages[currentLanguage].koreanWeekRegistration;
             if (formSubtitle) formSubtitle.textContent = languages[currentLanguage].koreanWeekRegistration;
         }

        function loadFormSection(step) {
            const formContent = document.getElementById('form-content');
            
            switch(step) {
                case 1:
                    formContent.innerHTML = getPersonalInfoSection();
                    break;
                case 2:
                    formContent.innerHTML = getDaySelectionSection();
                    break;
                case 3:
                    formContent.innerHTML = getActivitySelectionSection();
                    break;
                case 4:
                    formContent.innerHTML = getDetailsSection();
                    break;
                case 5:
                    formContent.innerHTML = getReviewSection();
                    break;
            }
            
            updateProgressStepper(step);
        }

        function updateProgressStepper(step) {
            // Update step circles and text
            for (let i = 1; i <= 5; i++) {
                const stepEl = document.getElementById(`step-${i}`);
                const textEl = document.getElementById(`text-${i}`);
                
                if (i === step) {
                    // Current step - red
                    stepEl.className = 'bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold';
                    textEl.className = 'ml-2 text-sm font-medium text-red-600';
                } else if (i < step) {
                    // Completed steps - green
                    stepEl.className = 'bg-green-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold';
                    textEl.className = 'ml-2 text-sm font-medium text-green-600';
                } else {
                    // Future steps - gray
                    stepEl.className = 'bg-gray-300 text-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold';
                    textEl.className = 'ml-2 text-sm font-medium text-gray-500';
                }
            }
            
            // Update connecting lines
            for (let i = 1; i <= 4; i++) {
                const lineEl = document.getElementById(`line-${i}`);
                if (i < step) {
                    // Completed lines - green
                    lineEl.className = 'w-8 h-1 bg-green-600';
                } else {
                    // Future lines - gray
                    lineEl.className = 'w-8 h-1 bg-gray-300';
                }
            }
        }

        function nextStep() {
            if (validateCurrentStep()) {
                currentStep++;
                loadFormSection(currentStep);
            }
        }

        function prevStep() {
            currentStep--;
            loadFormSection(currentStep);
        }

        function validateCurrentStep() {
            // Validation logic will be implemented for each step
            return true;
        }

        function closeSuccessModal() {
            document.getElementById('success-modal').classList.add('hidden');
            document.getElementById('success-modal').classList.remove('flex');
        }

        function showSuccessModal() {
            document.getElementById('success-modal').classList.remove('hidden');
            document.getElementById('success-modal').classList.add('flex');
        }

        // Form Section Functions
                 function getPersonalInfoSection() {
             return `
                 <div class="space-y-4 sm:space-y-6">
                                          <div class="text-center mb-6 sm:mb-8">
                          <div class="flex justify-center space-x-2 sm:space-x-3 mb-3 sm:mb-4">
                              <div class="text-red-600 text-lg sm:text-xl">👤</div>
                              <div class="text-red-600 text-lg sm:text-xl">🇰🇷</div>
                          </div>
                          <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2">${languages[currentLanguage].personalInformation}</h2>
                          <p class="text-sm sm:text-base text-gray-600">${languages[currentLanguage].personalInfoDesc}</p>
                      </div>
                    
                                         <div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 md:gap-6">
                         <div>
                             <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                 ${languages[currentLanguage].fullName} <span class="text-red-500">*</span>
                             </label>
                             <input 
                                 type="text" 
                                 id="fullName" 
                                 name="fullName" 
                                 required 
                                 class="w-full px-3 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-sm sm:text-base"
                                 placeholder="${languages[currentLanguage].enterFullName}"
                             >
                             <div id="fullName-error" class="hidden text-red-500 text-xs sm:text-sm mt-1"></div>
                         </div>
                        
                                                 <div>
                             <label for="age" class="block text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                 ${languages[currentLanguage].age} <span class="text-red-500">*</span>
                             </label>
                                                          <input 
                                  type="number" 
                                  id="age" 
                                  name="age" 
                                  required 
                                  min="16" 
                                  max="120"
                                  class="w-full px-3 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-sm sm:text-base"
                                  placeholder="${languages[currentLanguage].enterAge}"
                              >
                             <div class="text-xs sm:text-sm text-gray-500 mt-1">${languages[currentLanguage].mustBe16}</div>
                             <div id="age-error" class="hidden text-red-500 text-xs sm:text-sm mt-1"></div>
                         </div>
                        
                                                 <div>
                             <label for="email" class="block text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                 ${languages[currentLanguage].emailAddress} <span class="text-red-500">*</span>
                             </label>
                                                          <input 
                                  type="email" 
                                  id="email" 
                                  name="email" 
                                  required 
                                  class="w-full px-3 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-sm sm:text-base"
                                  placeholder="${languages[currentLanguage].enterEmail}"
                              >
                             <div id="email-error" class="hidden text-red-500 text-xs sm:text-sm mt-1"></div>
                         </div>
                        
                                                 <div>
                             <label for="phone" class="block text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                 ${languages[currentLanguage].phoneNumber} <span class="text-red-500">*</span>
                             </label>
                                                          <input 
                                  type="tel" 
                                  id="phone" 
                                  name="phone" 
                                  required 
                                  class="w-full px-3 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-sm sm:text-base"
                                  placeholder="${languages[currentLanguage].enterPhone}"
                              >
                             <div id="phone-error" class="hidden text-red-500 text-xs sm:text-sm mt-1"></div>
                         </div>
                        
                                                 <div class="md:col-span-2">
                             <label for="city" class="block text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                 ${languages[currentLanguage].cityArea}
                             </label>
                                                          <input 
                                  type="text" 
                                  id="city" 
                                  name="city" 
                                  class="w-full px-3 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-sm sm:text-base"
                                  placeholder="${languages[currentLanguage].enterCity}"
                              >
                         </div>
                    </div>
                    
                                         <div class="flex justify-end pt-3 sm:pt-4 md:pt-6">
                         <button 
                             type="button" 
                             onclick="validateAndSavePersonalInfo()"
                             class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 md:px-8 rounded-lg transition-colors text-sm sm:text-base"
                         >
                             ${languages[currentLanguage].nextDaySelection}
                         </button>
                     </div>
                </div>
            `;
        }

        function getDaySelectionSection() {
            return `
                <div class="space-y-4 sm:space-y-6">
                                         <div class="text-center mb-6 sm:mb-8">
                         <div class="flex justify-center space-x-2 sm:space-x-3 mb-3 sm:mb-4">
                             <div class="text-red-600 text-lg sm:text-xl">📅</div>
                             <div class="text-red-600 text-lg sm:text-xl">🇰🇷</div>
                         </div>
                         <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2">${languages[currentLanguage].chooseYourDay}</h2>
                         <p class="text-sm sm:text-base text-gray-600">${languages[currentLanguage].chooseDayDesc}</p>
                     </div>
                    
                                         <div class="space-y-3 md:space-y-4">
                         <div class="border border-gray-200 rounded-lg p-3 sm:p-4 md:p-6 hover:border-red-300 transition-colors">
                            <label class="flex items-start space-x-3 sm:space-x-4 cursor-pointer">
                                <input 
                                    type="radio" 
                                    name="selectedDay" 
                                    value="day1" 
                                    class="mt-1 text-red-600 focus:ring-red-500"
                                    ${selectedDay === 'day1' ? 'checked' : ''}
                                >
                                <div class="flex-1">
                                    <div class="font-semibold text-base sm:text-lg text-gray-900">${languages[currentLanguage].day1}</div>
                                    <div class="text-sm sm:text-base text-gray-600 mt-1">${languages[currentLanguage].day1Desc}</div>
                                </div>
                            </label>
                        </div>
                        
                                                 <div class="border border-gray-200 rounded-lg p-3 sm:p-4 md:p-6 hover:border-red-300 transition-colors">
                            <label class="flex items-start space-x-3 sm:space-x-4 cursor-pointer">
                                <input 
                                    type="radio" 
                                    name="selectedDay" 
                                    value="day2" 
                                    class="mt-1 text-red-600 focus:ring-red-500"
                                    ${selectedDay === 'day2' ? 'checked' : ''}
                                >
                                <div class="flex-1">
                                    <div class="font-semibold text-base sm:text-lg text-gray-900">${languages[currentLanguage].day2}</div>
                                    <div class="text-sm sm:text-base text-gray-600 mt-1">${languages[currentLanguage].day2Desc}</div>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                                         <div class="flex justify-between pt-3 sm:pt-4 md:pt-6">
                         <button 
                             type="button" 
                             onclick="prevStep()"
                             class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 sm:py-3 px-4 sm:px-6 md:px-8 rounded-lg transition-colors text-sm sm:text-base"
                         >
                             ${languages[currentLanguage].back}
                         </button>
                         <button 
                             type="button" 
                             onclick="validateAndSaveDaySelection()"
                             class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 md:px-8 rounded-lg transition-colors text-sm sm:text-base"
                         >
                             ${languages[currentLanguage].nextActivities}
                         </button>
                     </div>
                </div>
            `;
        }

        function getActivitySelectionSection() {
            if (!selectedDay) {
                return `<div class="text-center py-8"><p class="text-gray-600">Please select a day first.</p></div>`;
            }

            const dayActivities = selectedDay === 'day1' ? capacityConfig.day1 : capacityConfig.day2;
            const dayName = selectedDay === 'day1' ? 'August 29' : 'August 30';

            return `
                <div class="space-y-4 sm:space-y-6">
                                         <div class="text-center mb-6 sm:mb-8">
                         <div class="flex justify-center space-x-2 sm:space-x-3 mb-3 sm:mb-4">
                             <div class="text-red-600 text-lg sm:text-xl">🎯</div>
                             <div class="text-red-600 text-lg sm:text-xl">🇰🇷</div>
                         </div>
                         <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2">${languages[currentLanguage].activitySelection}</h2>
                         <p class="text-sm sm:text-base text-gray-600">${languages[currentLanguage].activityDesc} ${dayName}</p>
                     </div>
                    
                                         <div class="space-y-3 md:space-y-4">
                         <div class="border border-gray-200 rounded-lg p-3 md:p-4">
                             <label class="flex items-start space-x-3 md:space-x-4 cursor-pointer">
                                 <input 
                                     type="checkbox" 
                                     name="activities" 
                                     value="kimbap" 
                                     class="mt-1 text-red-600 focus:ring-red-500"
                                 >
                                 <div class="flex-1">
                                     <div class="font-semibold text-base md:text-lg text-gray-900">${languages[currentLanguage].kimbapMaking}</div>
                                     <div class="text-gray-600 mt-1 text-sm md:text-base">${languages[currentLanguage].kimbapDesc}</div>
                                 </div>
                             </label>
                         </div>
                         
                         <div class="border border-gray-200 rounded-lg p-3 md:p-4">
                             <label class="flex items-start space-x-3 md:space-x-4 cursor-pointer">
                                 <input 
                                     type="checkbox" 
                                     name="activities" 
                                     value="taekwondo" 
                                     class="mt-1 text-red-600 focus:ring-red-500"
                                 >
                                 <div class="flex-1">
                                     <div class="font-semibold text-base md:text-lg text-gray-900">${languages[currentLanguage].taekwondo}</div>
                                     <div class="text-gray-600 mt-1 text-sm md:text-base">${languages[currentLanguage].taekwondoDesc}</div>
                                 </div>
                             </label>
                         </div>
                         
                         <div class="border border-gray-200 rounded-lg p-3 md:p-4">
                             <label class="flex items-start space-x-3 md:space-x-4 cursor-pointer">
                                 <input 
                                     type="checkbox" 
                                     name="activities" 
                                     value="makeup" 
                                     class="mt-1 text-red-600 focus:ring-red-500"
                                 >
                                 <div class="flex-1">
                                     <div class="font-semibold text-base md:text-lg text-gray-900">${languages[currentLanguage].koreanMakeup}</div>
                                     <div class="text-gray-600 mt-1 text-sm md:text-base">${languages[currentLanguage].makeupDesc}</div>
                                 </div>
                             </label>
                         </div>
                    </div>
                    
                                         <div class="flex justify-between pt-3 sm:pt-4 md:pt-6">
                         <button 
                             type="button" 
                             onclick="prevStep()"
                             class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 sm:py-3 px-4 sm:px-6 md:px-8 rounded-lg transition-colors text-sm sm:text-base"
                         >
                             ${languages[currentLanguage].back}
                         </button>
                         <button 
                             type="button" 
                             onclick="validateAndSaveActivities()"
                             class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 md:px-8 rounded-lg transition-colors text-sm sm:text-base"
                         >
                             ${languages[currentLanguage].nextDetails}
                         </button>
                     </div>
                </div>
            `;
        }

        function getDetailsSection() {
            return `
                <div class="space-y-6">
                                         <div class="text-center mb-8">
                         <div class="flex justify-center space-x-3 mb-4">
                             <div class="text-red-600 text-xl">📝</div>
                             <div class="text-red-600 text-xl">🇰🇷</div>
                         </div>
                         <h2 class="text-3xl font-bold text-gray-900 mb-2">Additional Details</h2>
                         <p class="text-gray-600">Help us prepare for your visit</p>
                     </div>
                    
                                         <div class="space-y-4 md:space-y-6">
                         <div>
                             <label for="dietary" class="block text-sm font-medium text-gray-700 mb-2">
                                 Dietary Restrictions & Allergies
                             </label>
                             <textarea 
                                 id="dietary" 
                                 name="dietary" 
                                 rows="3"
                                 class="w-full px-3 md:px-4 py-2 md:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-base"
                                 placeholder="Do you have any dietary restrictions and/or allergies? (optional)"
                             ></textarea>
                         </div>
                        
                                                 <div class="border-t pt-4 md:pt-6">
                             <h3 class="text-lg md:text-xl font-semibold text-gray-900 mb-3 md:mb-4">Emergency Contact</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                                <div>
                                    <label for="emergencyName" class="block text-sm font-medium text-gray-700 mb-2">
                                        Name <span class="text-red-500">*</span>
                                    </label>
                                                                         <input 
                                         type="text" 
                                         id="emergencyName" 
                                         name="emergencyName" 
                                         required 
                                         class="w-full px-3 md:px-4 py-2 md:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-base"
                                         placeholder="Emergency contact name"
                                     >
                                </div>
                                
                                <div>
                                    <label for="emergencyPhone" class="block text-sm font-medium text-gray-700 mb-2">
                                        Phone Number <span class="text-red-500">*</span>
                                    </label>
                                                                         <input 
                                         type="tel" 
                                         id="emergencyPhone" 
                                         name="emergencyPhone" 
                                         required 
                                         class="w-full px-3 md:px-4 py-2 md:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-base"
                                         placeholder="Emergency contact phone"
                                     >
                                </div>
                                
                                <div class="md:col-span-2">
                                    <label for="emergencyRelation" class="block text-sm font-medium text-gray-700 mb-2">
                                        Relationship <span class="text-red-500">*</span>
                                    </label>
                                                                         <input 
                                         type="text" 
                                         id="emergencyRelation" 
                                         name="emergencyRelation" 
                                         required 
                                         class="w-full px-3 md:px-4 py-2 md:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-base"
                                         placeholder="e.g., Parent, Spouse, Friend"
                                     >
                                </div>
                            </div>
                        </div>
                        
                                                 <div class="border-t pt-4 md:pt-6">
                             <h3 class="text-lg md:text-xl font-semibold text-gray-900 mb-3 md:mb-4">Media Consent</h3>
                            <p class="text-gray-600 mb-4">Do you give permission for photos and videos taken during Korea Week to be used for promotional purposes?</p>
                            <div class="space-y-3">
                                <label class="flex items-center space-x-3">
                                    <input type="radio" name="mediaConsent" value="yes" required class="text-red-600 focus:ring-red-500">
                                    <span class="text-gray-900">Yes</span>
                                </label>
                                <label class="flex items-center space-x-3">
                                    <input type="radio" name="mediaConsent" value="no" required class="text-red-600 focus:ring-red-500">
                                    <span class="text-gray-900">No</span>
                                </label>
                            </div>
                        </div>
                        
                                                 <div class="border-t pt-4 md:pt-6">
                             <h3 class="text-lg md:text-xl font-semibold text-gray-900 mb-3 md:mb-4">Waiver & Agreement</h3>
                            <div class="bg-gray-50 p-4 rounded-lg mb-4">
                                <p class="text-sm text-gray-700 leading-relaxed">
                                    By submitting this form, I confirm that I am 16 years or older, and I understand that some activities may involve physical movement or food handling. I agree to follow safety guidelines provided by the organizers.
                                </p>
                            </div>
                            <label class="flex items-start space-x-3">
                                <input 
                                    type="checkbox" 
                                    name="waiverAgreement" 
                                    required 
                                    class="mt-1 text-red-600 focus:ring-red-500"
                                >
                                <span class="text-gray-900">I agree</span>
                            </label>
                        </div>
                        
                        <div>
                            <label for="comments" class="block text-sm font-medium text-gray-700 mb-2">
                                Additional Comments
                            </label>
                                                         <textarea 
                                 id="comments" 
                                 name="comments" 
                                 rows="3"
                                 class="w-full px-3 md:px-4 py-2 md:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors text-base"
                                 placeholder="Anything else you'd like us to know? (optional)"
                             ></textarea>
                        </div>
                    </div>
                    
                                         <div class="flex justify-between pt-4 md:pt-6">
                         <button 
                             type="button" 
                             onclick="prevStep()"
                             class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 md:py-3 px-6 md:px-8 rounded-lg transition-colors text-sm md:text-base"
                         >
                             Back
                         </button>
                         <button 
                             type="button" 
                             onclick="validateAndSaveDetails()"
                             class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 md:py-3 px-6 md:px-8 rounded-lg transition-colors text-sm md:text-base"
                         >
                             Review & Submit
                         </button>
                     </div>
                </div>
            `;
        }

        function getReviewSection() {
            return `
                <div class="space-y-6">
                                         <div class="text-center mb-8">
                         <div class="flex justify-center space-x-3 mb-4">
                             <div class="text-red-600 text-xl">👀</div>
                             <div class="text-red-600 text-xl">🇰🇷</div>
                         </div>
                         <h2 class="text-3xl font-bold text-gray-900 mb-2">Review Your Registration</h2>
                         <p class="text-gray-600">Please review your information before submitting</p>
                     </div>
                    
                                         <div class="bg-gray-50 rounded-lg p-4 md:p-6 space-y-3 md:space-y-4">
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
                            <div>
                                <h4 class="font-semibold text-gray-900">Personal Information</h4>
                                <p class="text-gray-600">${formData.fullName || 'Not provided'}</p>
                                <p class="text-gray-600">Age: ${formData.age || 'Not provided'}</p>
                                <p class="text-gray-600">${formData.email || 'Not provided'}</p>
                                <p class="text-gray-600">${formData.phone || 'Not provided'}</p>
                                ${formData.city ? `<p class="text-gray-600">${formData.city}</p>` : ''}
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-gray-900">Event Details</h4>
                                <p class="text-gray-600">Day: ${selectedDay === 'day1' ? 'August 29' : 'August 30'}</p>
                                <p class="text-gray-600">Activities: ${formData.activities ? formData.activities.join(', ') : 'Not selected'}</p>
                            </div>
                        </div>
                        
                        <div class="border-t pt-3 md:pt-4">
                            <h4 class="font-semibold text-gray-900">Emergency Contact</h4>
                            <p class="text-gray-600">${formData.emergencyName || 'Not provided'}</p>
                            <p class="text-gray-600">${formData.emergencyPhone || 'Not provided'}</p>
                            <p class="text-gray-600">${formData.emergencyRelation || 'Not provided'}</p>
                        </div>
                        
                        ${formData.dietary ? `
                        <div class="border-t pt-3 md:pt-4">
                            <h4 class="font-semibold text-gray-900">Dietary Restrictions</h4>
                            <p class="text-gray-600">${formData.dietary}</p>
                        </div>
                        ` : ''}
                        
                        ${formData.comments ? `
                        <div class="border-t pt-3 md:pt-4">
                            <h4 class="font-semibold text-gray-900">Additional Comments</h4>
                            <p class="text-gray-600">${formData.comments}</p>
                        </div>
                        ` : ''}
                    </div>
                    
                                         <div class="flex justify-between pt-4 md:pt-6">
                         <button 
                             type="button" 
                             onclick="prevStep()"
                             class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 md:py-3 px-6 md:px-8 rounded-lg transition-colors text-sm md:text-base"
                         >
                             Back
                         </button>
                         <button 
                             type="submit" 
                             id="submit-btn"
                             class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 md:py-3 px-6 md:px-8 rounded-lg transition-colors flex items-center space-x-2 text-sm md:text-base"
                         >
                             <span>Join Korea Week!</span>
                             <div id="submit-spinner" class="hidden">
                                 <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                     <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                     <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                 </svg>
                             </div>
                         </button>
                     </div>
                </div>
            `;
        }

        // Validation and save functions
        function validateAndSavePersonalInfo() {
            const fullName = document.getElementById('fullName').value.trim();
            const age = parseInt(document.getElementById('age').value);
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const city = document.getElementById('city').value.trim();
            
            let isValid = true;
            
            // Clear previous errors
            document.querySelectorAll('[id$="-error"]').forEach(el => el.classList.add('hidden'));
            
                         if (!fullName) {
                 showFieldError('fullName', languages[currentLanguage].fullNameRequired);
                 isValid = false;
             }
             
             if (!age || age < 16) {
                 showFieldError('age', languages[currentLanguage].ageRequired);
                 isValid = false;
             }
             
             if (!email || !isValidEmail(email)) {
                 showFieldError('email', languages[currentLanguage].validEmail);
                 isValid = false;
             }
             
             if (!phone) {
                 showFieldError('phone', languages[currentLanguage].phoneRequired);
                 isValid = false;
             }
            
            if (isValid) {
                formData = {
                    fullName,
                    age,
                    email,
                    phone,
                    city
                };
                nextStep();
            }
        }

                 function validateAndSaveDaySelection() {
             const selectedDayRadio = document.querySelector('input[name="selectedDay"]:checked');
             if (!selectedDayRadio) {
                 alert(languages[currentLanguage].selectDay);
                 return;
             }
             
             selectedDay = selectedDayRadio.value;
             nextStep();
         }

                 function validateAndSaveActivities() {
             const selectedActivities = Array.from(document.querySelectorAll('input[name="activities"]:checked')).map(cb => cb.value);
             if (selectedActivities.length === 0) {
                 alert(languages[currentLanguage].selectActivity);
                 return;
             }
             
             formData.activities = selectedActivities;
             nextStep();
         }

                 function validateAndSaveDetails() {
             const emergencyName = document.getElementById('emergencyName').value.trim();
             const emergencyPhone = document.getElementById('emergencyPhone').value.trim();
             const emergencyRelation = document.getElementById('emergencyRelation').value.trim();
             const mediaConsent = document.querySelector('input[name="mediaConsent"]:checked');
             const waiverAgreement = document.querySelector('input[name="waiverAgreement"]:checked');
             const dietary = document.getElementById('dietary').value.trim();
             const comments = document.getElementById('comments').value.trim();
             
             if (!emergencyName || !emergencyPhone || !emergencyRelation || !mediaConsent || !waiverAgreement) {
                 alert(languages[currentLanguage].fillRequired);
                 return;
             }
             
             formData = {
                 ...formData,
                 emergencyName,
                 emergencyPhone,
                 emergencyRelation,
                 mediaConsent: mediaConsent.value,
                 dietary,
                 comments
             };
             nextStep();
         }

        function showFieldError(fieldId, message) {
            const errorEl = document.getElementById(fieldId + '-error');
            const fieldEl = document.getElementById(fieldId);
            
            if (errorEl) {
                errorEl.textContent = message;
                errorEl.classList.remove('hidden');
            }
            
            if (fieldEl) {
                fieldEl.classList.add('border-red-500', 'animate-shake');
                setTimeout(() => {
                    fieldEl.classList.remove('animate-shake');
                }, 500);
            }
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Form submission
        document.getElementById('korea-week-form').addEventListener('submit', function(e) {
            const submitBtn = document.getElementById('submit-btn');
            const spinner = document.getElementById('submit-spinner');
            
            // Show loading state
            submitBtn.disabled = true;
            spinner.classList.remove('hidden');
            
            // Sync form data to hidden fields for Netlify
            syncFormDataToHiddenFields();
            
            // Let the form submit to Netlify
            // The success modal will be shown after successful submission
        });

        // Function to sync dynamic form data to hidden fields
        function syncFormDataToHiddenFields() {
            // Sync personal info
            if (formData.fullName) {
                document.querySelector('input[name="fullName"]').value = formData.fullName;
            }
            if (formData.age) {
                document.querySelector('input[name="age"]').value = formData.age;
            }
            if (formData.email) {
                document.querySelector('input[name="email"]').value = formData.email;
            }
            if (formData.phone) {
                document.querySelector('input[name="phone"]').value = formData.phone;
            }
            if (formData.city) {
                document.querySelector('input[name="city"]').value = formData.city;
            }
            
            // Sync selected day
            if (selectedDay) {
                const dayRadio = document.querySelector(`input[name="selectedDay"][value="${selectedDay}"]`);
                if (dayRadio) dayRadio.checked = true;
            }
            
            // Sync activities
            if (formData.activities) {
                formData.activities.forEach(activity => {
                    const activityCheckbox = document.querySelector(`input[name="activities"][value="${activity}"]`);
                    if (activityCheckbox) activityCheckbox.checked = true;
                });
            }
            
            // Sync emergency contact
            if (formData.emergencyName) {
                document.querySelector('input[name="emergencyName"]').value = formData.emergencyName;
            }
            if (formData.emergencyPhone) {
                document.querySelector('input[name="emergencyPhone"]').value = formData.emergencyPhone;
            }
            if (formData.emergencyRelation) {
                document.querySelector('input[name="emergencyRelation"]').value = formData.emergencyRelation;
            }
            
            // Sync media consent
            if (formData.mediaConsent) {
                const consentRadio = document.querySelector(`input[name="mediaConsent"][value="${formData.mediaConsent}"]`);
                if (consentRadio) consentRadio.checked = true;
            }
            
            // Sync waiver agreement
            if (formData.waiverAgreement) {
                document.querySelector('input[name="waiverAgreement"]').checked = true;
            }
            
            // Sync dietary and comments
            if (formData.dietary) {
                document.querySelector('textarea[name="dietary"]').value = formData.dietary;
            }
            if (formData.comments) {
                document.querySelector('textarea[name="comments"]').value = formData.comments;
            }
        }
    </script>
</body>
</html>
